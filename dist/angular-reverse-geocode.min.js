angular.module("AngularReverseGeocode",[]).service("reverseGeocode",function(){var e=this;e.geocodePosition=function(e,t,n,r,a){if(o){var s=new google.maps.LatLng(e,t);o.geocode({latLng:s},function(e){e&&e.length>0?n(a&&"json"===a?angular.fromJson(e[0]):e[0].formatted_address):r({status:"KO",reason:"Error while trying to find the location"})})}else r({status:"KO",reason:"Unable to create Geocoder Instance"})},e.parsePositionArray=function(e){var o={};return angular.forEach(e,function(e){o[e.types[0]]=e.short_name}),o};var o;try{o=new google.maps.Geocoder}catch(e){console.log("UNABLE TO CREATE GEOCODER INSTANCE")}}).directive("reverseGeocode",function(){return{restrict:"E",template:"<div></div>",link:function(e,o,t){var n=new google.maps.Geocoder,r=new google.maps.LatLng(t.lat,t.lng);n.geocode({latLng:r},function(e,t){t==google.maps.GeocoderStatus.OK?e[0]?o.text(e[0].formatted_address):o.text("Location not found"):o.text("Geocoder failed due to: "+t)})},replace:!0}}).name;